# v0.9 RC Rollback Plan

Date: 2026-03-29
Scope: release rollback strategy for v0.9.0-rc1

## Trigger Conditions

Rollback should be initiated if any of the following occurs after RC deployment:

1. Runtime stability regression
- Critical classroom demos fail to solve valid baseline circuits.

2. Packaging/runtime regression
- `viewer.html` or `embed.js` fails to load in host integration.

3. High-severity UX regression
- Core mobile wiring/edit flows become unusable in target classroom devices.

## Rollback Target

- Primary rollback target: previous known-good `main` commit immediately before `v0.9.0-rc1` tag.
- Artifact rollback target: last published embed package prior to rc1.

## Rollback Steps

1. Code rollback (repository)
- Identify target commit/tag.
- Create rollback commit (revert offending commits) on `main`.
- Push rollback commit and run `npm run check:full` before re-release.

2. Artifact rollback (embed bundle)
- Re-publish previous stable `output/embed-package` artifact.
- Repoint deployment to previous `viewer.html` + `embed.js` pair atomically.

3. Verification after rollback
- Run:
  - `npm run check`
  - `npm run baseline:p0`
  - `npm run baseline:circuitjs`
- Smoke-check classroom presets and embed loading.

## Communication Template

- Incident summary (what failed, scope, severity)
- Rollback decision time and owner
- Rolled-back target commit/artifact version
- Post-rollback verification result
- Follow-up fix plan and ETA

## Ownership

- Release owner: repository maintainer on duty
- Verification owner: QA gate reviewer
- Classroom validation owner: teaching-flow test owner
